<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Combine 3D aspects</title>
    <link href="../prism.css" rel="stylesheet">
    <script src="../prism.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            color: #333;
            text-align: center;
        }

        h2 {
            color: #007BFF;
        }

        section {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Combine 3D aspects</h1>
    <p>Now it's time to combine everything we did before into a single 3d scene. We will start with the prerequisites and then go on and combine everything in main.js.</p>
    <section id="prerequisites">
        <h2>Prerequisites</h2>
        <p>
            Before we begin this part of the tutorial, we need to setup the environment. This is assuming that node is already installed. 
            <br>
            Run the following commands in order to install three.js and vite. Vite will be used to run the server and three js is required for 3d.
            <br>
            <ul>
                <li>> npm install three</li>
                <li>> npm install vite</li>
            </ul>
        </p>
        <p>
            Once the code is written, the following command can be run to start the server.
        </p>
        <ul>
            <li>> npx vite</li>
        </ul>
        <p>
            Create the following 2 pages:
            <ul>
                <li>index.html</li>
                <li>main.js</li>
            </ul>
        </p>
        <h4>
            index.html
        </h4>
        <p>
            This HTML document sets up a basic webpage with a title, removes default body margins using CSS, and includes an external JavaScript module ("main.js") for additional functionality. The JavaScript module is expected to handle the 3D background proof of concept (POC) logic.
        </p>
        <pre>
            <code class="language-html">
                &lt;!DOCTYPE html&gt;
                &lt;html lang=&quot;en&quot;&gt;
                    &lt;head&gt;
                        &lt;meta charset=&quot;utf-8&quot;&gt;
                        &lt;title&gt;All 3d parts combined&lt;/title&gt;
                        &lt;style&gt;
                            body { margin: 0; }
                        &lt;/style&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                        &lt;script type=&quot;module&quot; src=&quot;/main.js&quot;&gt;&lt;/script&gt;
                    &lt;/body&gt;
                &lt;/html&gt;
            </code>
        </pre>
    </section>
    <h4>main.js</h4>
    <section id="import_libraries">
        <h2>Import libraries</h2>
        <p>
            This section imports the Three.js library and required modules for creating a 3D scene, handling camera movement, loading 3D models, and 3d text.
            <br>First import imports the Three.js library for 3D graphics in web browsers.
            <br>Next one imports OrbitControls for interactive controls like rotating, panning, and zooming.
            <br>And the next one imports GLTFLoader for loading and rendering 3D models in GLTF format.
            <br>Next one imports TTFLoader for loading and parsing TrueType Fonts (TTF).
            <br>The last one imports Font and TextGeometry for loading and generating 3D text meshes.
        </p>
        <pre>
            <code class="language-js">
                import * as THREE from 'three';
                import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
                import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
                import { TTFLoader } from 'three/examples/jsm/loaders/TTFLoader.js';
                import { Font } from 'three/examples/jsm/loaders/FontLoader.js';
                import { TextGeometry } from 'three/examples/jsm/geometries/TextGeometry.js';
            </code>
        </pre>
    </section>
    
    <section id="scene_and_camera">
        <h2>Setup Scene and Camera</h2>
        <p>
            We create a new scene using the THREE.Scene() constructor.
            <br>Create a perspective camera using THREE.PerspectiveCamera(), specifying the field of view, aspect ratio, near, and far clipping planes.
            <br>We position the camera 50 units behind the scene's origin.
            <br>Slightly raise the camera's position along the Y-axis to better view the scene's floor.
        </p>
        <pre>
            <code class="language-js">
                // scene and camera setup
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

                // camera positioning
                camera.position.z = 50;
                camera.position.y += 1; // Raise the camera slightly to see the floor
            </code>
        </pre>
    </section>

    <section id="renderer">
        <h2>Setup renderer</h2>
        <p>
            Here, we create a WebGL renderer using THREE.WebGLRenderer().
            <br>Set the renderer's size to match the browser window's width and height.
            <br>Set the renderer's background color to black with an opacity of 1.
            <br>We append the renderer's DOM element to the body of the HTML document.
        </p>
        <pre>
            <code class="language-js">
                // setup renderer
                const renderer = new THREE.WebGLRenderer();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setClearColor(0x000000, 1);

                // add renderer to html
                document.body.appendChild(renderer.domElement);
            </code>
        </pre>
    </section>
</body>
</html>